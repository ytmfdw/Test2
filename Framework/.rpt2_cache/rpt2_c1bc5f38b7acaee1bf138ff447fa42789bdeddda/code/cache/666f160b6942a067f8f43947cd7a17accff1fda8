{
  "code": "import { ui } from \"../ui/layaMaxUI\";\r\nimport { insertCount } from \"../utils/Count\";\r\nimport { AppConfig } from \"../AppConfig\";\r\nimport { sharkAni } from \"../utils/Common\";\r\nexport default class AppView extends ui.item.appViewUI {\r\n    constructor(pageName, context, noAni) {\r\n        super();\r\n        this.index = -1;\r\n        this.father = null;\r\n        this.isAni = true;\r\n        this.data = null;\r\n        this.pageName = null;\r\n        if (noAni) {\r\n            this.isAni = false;\r\n        }\r\n        this.pageName = pageName;\r\n        this.on(Laya.Event.CLICK, this, this.clickGoToApp);\r\n        if (context) {\r\n            this.father = context;\r\n            let scale = Math.min(this.father.width / 250, this.father.height / 300);\r\n            this.scale(scale, scale);\r\n            this.father.addChild(this);\r\n        }\r\n    }\r\n    clickGoToApp(e) {\r\n        e.stopPropagation();\r\n        if (!this.data || !this.data.appid) {\r\n            return;\r\n        }\r\n        let thiz = this;\r\n        insertCount({ type: '点击导量', mark: thiz.data.name + ',' + thiz.data.appid, page: thiz.pageName });\r\n        if (AppConfig.systemInfo.version > '2.2.0') {\r\n            wx.navigateToMiniProgram({\r\n                appId: thiz.data.appid,\r\n                path: thiz.data.path,\r\n                extraData: {\r\n                    from: AppConfig.APPNAME,\r\n                },\r\n                envVersion: 'release',\r\n                success: res => {\r\n                    insertCount({ type: '点击导量,跳转成功', mark: thiz.data.name + ',' + thiz.data.appid, page: thiz.pageName });\r\n                    insertCount({ type: '跳转成功_' + thiz.data.name, mark: thiz.data.name + ',' + thiz.data.appid, page: thiz.pageName });\r\n                    insertCount({ type: '跳转成功', mark: thiz.data.name + ',' + thiz.data.appid, page: thiz.pageName });\r\n                },\r\n                fail: e => {\r\n                    insertCount({ type: '点击导量,跳转失败', mark: thiz.data.name + ',' + thiz.data.appid, page: thiz.pageName });\r\n                    if (AppConfig.ifShowApps) {\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n    setData(data) {\r\n        this.data = data;\r\n        this.appName.changeText(data.name);\r\n        this.appIcon.skin = data.skin;\r\n    }\r\n    autoChange() {\r\n        Laya.timer.loop(AppConfig.dynamicChangeTime * 1000, this, this.shark);\r\n    }\r\n    shark() {\r\n        let thiz = this;\r\n        sharkAni(thiz, thiz);\r\n    }\r\n}\r\n",
  "references": [
    "E:/game/Growup/Laya2Framework/Framework/Framework/src/ui/layaMaxUI.ts",
    "E:/game/Growup/Laya2Framework/Framework/Framework/src/utils/Count.ts",
    "E:/game/Growup/Laya2Framework/Framework/Framework/src/AppConfig.ts",
    "E:/game/Growup/Laya2Framework/Framework/Framework/src/utils/Common.ts"
  ]
}
